<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="email=no"/>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/mobilebone.css">
    <script src="../js/jquery-3.1.0.min.js"></script>
    <script src="../js/dropload.js"></script>
    <script src="../js/mobilebone.js"></script>
    <title>登录验证</title>
</head>
<body>
<section>
   <div class="Verification">
       <p><input type="text" placeholder="请输入手机号码" id="phone"></p>
       <p><input type="password" placeholder="请输入验证码">
           <span>
               <b class="btn btn-small get-code" onclick="getCode(this)" id="J_getCode">获取验证码</b>
               <b class="btn btn-small reset-code" id="J_resetCode" style="display:none;"><b id="J_second">60</b>秒后重发</b>
           </span>
       </p>
        <button class="#button">下一步</button>
   </div>
</section>
<script>
    /*获取验证码*/
    var isPhone = 1;
    function getCode(e){
        checkPhone(); //验证手机号码
        if(isPhone){
            resetCode(); //倒计时
        }else{
            $('#phone').focus();
        }
    }
    //验证手机号码
    function checkPhone(){
        var phone = $('#phone').val();
        var pattern = /^1[0-9]{10}$/;
        isPhone = 1;
        /*if(phone == '') {
            alert('请输入手机号码');
            isPhone = 0;
            return;
        }
        if(!pattern.test(phone)){
            alert('请输入正确的手机号码');
            isPhone = 0;
            return;
        }*/
    }
    //倒计时
    function resetCode(){
        $('#J_getCode').hide();
        $('#J_second').html('60');
        $('#J_resetCode').show();
        $(".Verification p span").css({background:"#e2e2e2"});
        var second = 60;
        var timer = null;
        timer = setInterval(function(){
            second -= 1;
            if(second >0 ){
                $('#J_second').html(second);
            }else{
                clearInterval(timer);
                $('#J_getCode').show();
                $('#J_resetCode').hide();
                $(".Verification p span").css({background:"red"});
            }
        },1000);
    }

</script>
</body>
</html>




